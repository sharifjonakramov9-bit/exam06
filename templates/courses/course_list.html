{% extends "base.html" %}

{% block content %}
<h1>ðŸ“˜ Courses</h1>

<a href="{% url 'courses:create' %}">âž• Create new course</a>

<hr>

<table border="1" cellpadding="8">
    <tr>
        <th>Title</th>
        <th>Duration (weeks)</th>
        <th>Students</th>
        <th>Actions</th>
    </tr>

    {% for course in courses %}
    <tr>
        <td>{{ course.title }}</td>
        <td>{{ course.duration_weeks }}</td>
        <td>{{ course.student_count }}</td>
        <td>
            <a href="{% url 'courses:detail' course.id %}">Detail</a> |
            <a href="{% url 'courses:edit' course.id %}">Edit</a> |
            <form action="{% url 'courses:delete' course.id %}"
                  method="post"
                  style="display:inline;">
                {% csrf_token %}
                <button type="submit"
                        onclick="return confirm('Delete this course?')">
                    Delete
                </button>
            </form>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="4">No courses yet.</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}